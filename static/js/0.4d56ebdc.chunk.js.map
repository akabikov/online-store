{"version":3,"sources":["redux/selectors/filters/filteringRules.js","redux/selectors/filters/index.js","helpers/debounce.js","helpers/objectFromArray.js","components/ProductFilters/SearchFilter/index.jsx","components/ProductFilters/PriceFilter/index.jsx","components/ProductFilters/BrandFilter/BrandItem.jsx","components/ProductFilters/BrandFilter/index.jsx","components/ProductFilters/index.jsx","components/ProductsSorting/index.jsx","components/Pagination/ItemsPerPageSelector/index.jsx","components/Pagination/PageSwitcher/index.jsx","redux/selectors/sorting/sortingRules.js","redux/selectors/sorting/index.js","hooks/useQuery.js","hooks/usePagination.js","pages/ProductsPage/index.jsx","components/ProductList/ProductCard/index.jsx","components/ProductList/index.jsx"],"names":["rules","company","companyList","Object","keys","length","price","min","max","Infinity","search","query","title","includes","getFilters","state","filters","getProductsByFilters","createSelector","getProductsArray","products","filter","product","entries","reduce","commonCondition","filterName","filterValue","applyFilters","getFilteredProductsPriceRange","filteredProducts","debounce","func","timeout","timerId","args","clearTimeout","context","this","setTimeout","apply","objectFromArray","defaultValue","obj","el","SearchFilter","setFilter","className","type","name","id","placeholder","inputMode","value","onChange","target","connect","availableRange","rangeField","minMax","aria-label","Number","isNaN","BrandItem","label","isChecked","isDisabled","toggle","checked","disabled","companies","getCompanies","selectedBrands","toggleCheck","key","deleted","rest","addOrDelEntry","companiesList","map","onClick","storeFilters","updateFilters","useState","setFilters","debouncedFilterUpdate","useCallback","useEffect","Button","text","isDefault","updateSorting","DEFAULT_SORT","sorting","setSorting","handleChange","orderBy","direction","htmlFor","ItemsPerPageSelector","itemsPerPage","setItemsPerPage","listOfOptions","itemsPerPageOptions","PageSwitcher","numOfPages","currentPage","switchPage","pageLink","page","icon","to","undefined","pages","Array","_","i","getEdgeLink","excludedPage","prev","next","sortingRules","default","ascending","current","descending","getSortedProducts","sort","applySorting","getPaginatedProducts","pageNum","safeItemsPerPage","Math","ceil","safePageNum","start","productsOfPage","slice","useQuery","history","useHistory","getParams","URLSearchParams","location","get","set","newParams","params","push","usePagination","selector","useSelector","queryPage","items","ProductsPage","ProductList","ProductCard","imageUrl","dispatch","useDispatch","src","alt","add","productList"],"mappings":"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","file":"static/js/0.4d56ebdc.chunk.js","sourcesContent":["const rules = {\r\n  company: (companyList, { company }) =>\r\n    !Object.keys(companyList).length || companyList[company],\r\n  price: ({ min = 0, max }, { price }) =>\r\n    +price >= +min && +price <= (+max || Infinity),\r\n  search: ({ query }, { title }) => !query || title.includes(query),\r\n};\r\n\r\nexport const applyFilters = (filters, product) =>\r\n  Object.entries(filters).reduce(\r\n    (commonCondition, [filterName, filterValue]) =>\r\n      commonCondition && rules[filterName]?.(filterValue, product),\r\n    true\r\n  );\r\n","import { createSelector } from \"reselect\";\r\nimport { applyFilters } from \"./filteringRules\";\r\nimport { getProductsArray } from \"../products\";\r\n\r\nexport const getFilters = (state) => state.filters;\r\n\r\nexport const getProductsByFilters = createSelector(\r\n  getProductsArray,\r\n  getFilters,\r\n  (products, rules) =>\r\n    products.filter((product) => applyFilters(rules, product))\r\n);\r\n\r\nexport const getFilteredProductsPriceRange = createSelector(\r\n  getProductsByFilters,\r\n  (filteredProducts) =>\r\n    filteredProducts.length\r\n      ? filteredProducts.reduce(\r\n          ({ min, max }, { price }) => ({\r\n            min: price < min ? price : min,\r\n            max: price > max ? price : max,\r\n          }),\r\n          { min: Infinity, max: 0 }\r\n        )\r\n      : { min: 0, max: 0 }\r\n);\r\n","function debounce(func, timeout) {\r\n  let timerId;\r\n  return function (...args) {\r\n    if (timerId) clearTimeout(timerId);\r\n    const context = this;\r\n    timerId = setTimeout(() => {\r\n      timerId = null;\r\n      func.apply(context, args);\r\n    }, timeout);\r\n  };\r\n}\r\n\r\nexport default debounce;\r\n","function objectFromArray(keys, defaultValue = null) {\r\n  return keys.reduce((obj, el) => {\r\n    obj[el] = defaultValue;\r\n    return obj;\r\n  }, {});\r\n}\r\n\r\nexport default objectFromArray;\r\n","import React from \"react\";\r\nimport \"./style.scss\";\r\n\r\nconst FILTER_NAME = \"search\";\r\n\r\nfunction SearchFilter({ search, setFilter }) {\r\n  return (\r\n    <fieldset className='SearchFilter'>\r\n      <legend>Search</legend>\r\n      <input\r\n        type='search'\r\n        name='search'\r\n        id='search'\r\n        placeholder='Search...'\r\n        inputMode='search'\r\n        value={search?.query || \"\"}\r\n        onChange={({ target: { value } }) =>\r\n          setFilter(FILTER_NAME, { query: value })\r\n        }\r\n      />\r\n    </fieldset>\r\n  );\r\n}\r\n\r\nexport default SearchFilter;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getFilteredProductsPriceRange } from \"../../../redux/selectors/filters\";\r\nimport \"./style.scss\";\r\n\r\nconst FILTER_NAME = \"price\";\r\n\r\nfunction PriceFilter({ availableRange, price, setFilter }) {\r\n  const rangeField = (minMax) => (\r\n    <input\r\n      type='search'\r\n      inputMode='numeric'\r\n      aria-label={`price-${minMax}`}\r\n      placeholder={availableRange?.[minMax] || \"\"}\r\n      title={`${minMax} price`}\r\n      value={price?.[minMax] || \"\"}\r\n      onChange={({ target: { value } }) => {\r\n        if (!Number.isNaN(Number(value))) {\r\n          setFilter(FILTER_NAME, {\r\n            ...price,\r\n            [minMax]: Number(value),\r\n          });\r\n        }\r\n      }}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <fieldset className='PriceFilter'>\r\n      <legend>Price</legend>\r\n      <div>{rangeField(\"min\")}</div>\r\n      <div className='price-range-delimiter'> - </div>\r\n      <div>{rangeField(\"max\")}</div>\r\n    </fieldset>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  availableRange: getFilteredProductsPriceRange(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PriceFilter);\r\n","import React from \"react\";\r\n\r\nfunction BrandItem({ label, isChecked = false, isDisabled = false, toggle }) {\r\n  return (\r\n    <div>\r\n      <label>\r\n        <input\r\n          type='checkbox'\r\n          name={label}\r\n          checked={isChecked}\r\n          disabled={isDisabled}\r\n          onChange={() => toggle(label)}\r\n        />\r\n        {label}\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BrandItem;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getCompanies } from \"../../../redux/selectors/products\";\r\nimport objectFromArray from \"../../../helpers/objectFromArray\";\r\nimport BrandItem from \"./BrandItem\";\r\nimport \"./style.scss\";\r\n\r\nconst FILTER_NAME = \"company\";\r\n\r\nfunction BrandFilter({ companies, company: selectedBrands = {}, setFilter }) {\r\n  const toggleCheck = (company) =>\r\n    setFilter(FILTER_NAME, addOrDelEntry(selectedBrands, company, true));\r\n\r\n  const selectAll = () =>\r\n    setFilter(FILTER_NAME, objectFromArray(companies, true));\r\n\r\n  const unselectAll = () => setFilter(FILTER_NAME, {});\r\n\r\n  const companiesList = companies.map((company) => (\r\n    <li key={company}>\r\n      <BrandItem\r\n        label={company}\r\n        isChecked={selectedBrands[company]}\r\n        toggle={toggleCheck}\r\n      />\r\n    </li>\r\n  ));\r\n\r\n  return (\r\n    <fieldset className='BrandFilter'>\r\n      <legend>Brands</legend>\r\n      <ul>{companiesList}</ul>\r\n      <div>\r\n        <button type='button' title='select all' onClick={selectAll}>\r\n          <i className='zmdi zmdi-check-all'></i>\r\n        </button>\r\n        <button type='button' title='deselect all' onClick={unselectAll}>\r\n          <i className='zmdi zmdi-square-o'></i>\r\n        </button>\r\n      </div>\r\n    </fieldset>\r\n  );\r\n}\r\n\r\nfunction addOrDelEntry(obj, key, defaultValue) {\r\n  const { [key]: deleted, ...rest } = obj;\r\n  return deleted ? rest : { ...obj, [key]: defaultValue };\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  companies: getCompanies(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(BrandFilter);\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { updateFilters } from \"../../redux/actions\";\r\nimport { getFilters } from \"../../redux/selectors/filters\";\r\nimport debounce from \"../../helpers/debounce\";\r\nimport objectFromArray from \"../../helpers/objectFromArray\";\r\nimport SearchFilter from \"./SearchFilter\";\r\nimport PriceFilter from \"./PriceFilter\";\r\nimport BrandFilter from \"./BrandFilter\";\r\nimport Button from \"../Button\";\r\nimport \"./style.scss\";\r\n\r\nconst FILTERING_DELAY = 1000; // ms\r\n\r\nfunction ProductFilters({ storeFilters, updateFilters }) {\r\n  const [filters, setFilters] = useState(storeFilters);\r\n\r\n  const debouncedFilterUpdate = useCallback(\r\n    debounce((filters) => updateFilters(filters), FILTERING_DELAY),\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    debouncedFilterUpdate(filters);\r\n  }, [filters, debouncedFilterUpdate]);\r\n\r\n  const setFilter = (filterName, filterValue) =>\r\n    setFilters((filters) => ({ ...filters, [filterName]: filterValue }));\r\n\r\n  const resetAll = () => setFilters(objectFromArray(Object.keys(filters), {}));\r\n\r\n  return (\r\n    <form className='ProductFilters'>\r\n      <div className='product-filters'>\r\n        <SearchFilter {...filters} setFilter={setFilter} />\r\n        <PriceFilter {...filters} setFilter={setFilter} />\r\n        <BrandFilter {...filters} setFilter={setFilter} />\r\n      </div>\r\n      <Button type='reset' text='Reset all' onClick={resetAll} />\r\n    </form>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ storeFilters: getFilters(state) });\r\n\r\nexport default connect(mapStateToProps, { updateFilters })(ProductFilters);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { updateSorting } from \"../../redux/actions\";\r\nimport { DEFAULT_SORT } from \"../../redux/reducers/sorting\";\r\nimport \"./style.scss\";\r\n\r\nfunction ProductsSorting({ updateSorting }) {\r\n  const [sorting, setSorting] = useState(DEFAULT_SORT);\r\n\r\n  useEffect(() => {\r\n    updateSorting(sorting);\r\n  }, [sorting, updateSorting]);\r\n\r\n  const handleChange = ({ orderBy, direction }) =>\r\n    setSorting((sorting) => ({\r\n      orderBy: orderBy || sorting.orderBy,\r\n      direction: direction || (isDefault(orderBy) ? \"default\" : \"ascending\"),\r\n    }));\r\n\r\n  const { orderBy, direction } = sorting;\r\n\r\n  return (\r\n    <form className='ProductsSorting'>\r\n      <label htmlFor='order-by'>Order by: </label>\r\n      <select\r\n        id='order-by'\r\n        title='Order by...'\r\n        value={orderBy}\r\n        onChange={({ target }) => handleChange({ orderBy: target.value })}\r\n      >\r\n        <option value='default'>default</option>\r\n        <option value='price'>price</option>\r\n        <option value='company'>company</option>\r\n      </select>\r\n      <button\r\n        type='button'\r\n        title='Sorting direction'\r\n        disabled={isDefault(orderBy)}\r\n        onClick={() =>\r\n          handleChange({\r\n            direction: direction === \"ascending\" ? \"descending\" : \"ascending\",\r\n          })\r\n        }\r\n      >\r\n        <i\r\n          className={\r\n            \"zmdi zmdi-sort-\" +\r\n            (orderBy === \"price\" ? \"amount-\" : \"\") +\r\n            (direction === \"descending\" ? \"desc\" : \"asc\")\r\n          }\r\n        ></i>\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nfunction isDefault(value) {\r\n  return value === \"default\";\r\n}\r\n\r\nexport default connect(null, { updateSorting })(ProductsSorting);\r\n","import React from \"react\";\r\nimport \"./style.scss\";\r\n\r\nfunction ItemsPerPageSelector({\r\n  itemsPerPage,\r\n  setItemsPerPage,\r\n  listOfOptions = [0],\r\n}) {\r\n  const itemsPerPageOptions = listOfOptions.map((el) => (\r\n    <option key={el} value={el}>\r\n      {el || \"all\"}\r\n    </option>\r\n  ));\r\n\r\n  return (\r\n    <div className='ItemsPerPageSelector'>\r\n      <select\r\n        id='items-per-page-selector'\r\n        title='Number of items per page'\r\n        value={itemsPerPage}\r\n        onChange={({ target }) => setItemsPerPage(Number(target.value))}\r\n      >\r\n        {itemsPerPageOptions}\r\n      </select>\r\n      <label htmlFor='items-per-page-selector'> per page</label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ItemsPerPageSelector;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.scss\";\r\n\r\nfunction PageSwitcher({ numOfPages, currentPage, switchPage }) {\r\n  const pageLink = (page, title, icon) => (\r\n    <Link\r\n      to={switchPage(page)}\r\n      title={currentPage !== page ? title : undefined}\r\n    >\r\n      {icon || page}\r\n    </Link>\r\n  );\r\n\r\n  const pages =\r\n    numOfPages > 1 &&\r\n    [...Array(numOfPages)].map((_, i) => {\r\n      const page = i + 1;\r\n      return (\r\n        <li\r\n          key={page}\r\n          className={page === currentPage ? \"current-page\" : undefined}\r\n        >\r\n          {pageLink(page, `Go to page ${page}`)}\r\n        </li>\r\n      );\r\n    });\r\n\r\n  const getEdgeLink = (excludedPage, name, page, icon) => (\r\n    <li className={!(currentPage - excludedPage) ? \"disabled\" : undefined}>\r\n      {pageLink(page, `Go to the ${name} page`, icon)}\r\n    </li>\r\n  );\r\n\r\n  const prev = getEdgeLink(\r\n    1,\r\n    \"previous\",\r\n    currentPage - 1,\r\n    <i className='zmdi zmdi-chevron-left'></i>\r\n  );\r\n  const next = getEdgeLink(\r\n    numOfPages,\r\n    \"next\",\r\n    currentPage + 1,\r\n    <i className='zmdi zmdi-chevron-right'></i>\r\n  );\r\n  // const first = getEdgeLink(1, \"first\", 1, \"<<\");\r\n  // const last = getEdgeLink(numOfPages, \"last\", numOfPages, \">>\");\r\n\r\n  return (\r\n    <ul className='PageSwitcher'>\r\n      {prev} {pages} {next}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default PageSwitcher;\r\n","const sortingRules = {\r\n  default: {\r\n    default: () => 0,\r\n  },\r\n  price: {\r\n    ascending: (current, next) => current - next,\r\n    descending: (current, next) => next - current,\r\n  },\r\n  company: {\r\n    ascending: (current, next) =>\r\n      current > next ? 1 : current < next ? -1 : 0,\r\n    descending: (current, next) =>\r\n      next > current ? 1 : next < current ? -1 : 0,\r\n  },\r\n};\r\n\r\nexport const applySorting = (current, next, { orderBy, direction }) =>\r\n  sortingRules[orderBy]?.[direction]?.(current?.[orderBy], next?.[orderBy]);\r\n","import { createSelector } from \"reselect\";\r\nimport { applySorting } from \"./sortingRules\";\r\nimport { getProductsByFilters } from \"../filters\";\r\n\r\nexport const getSorting = (state) => state.sorting;\r\n\r\nexport const getSortedProducts = createSelector(\r\n  getProductsByFilters,\r\n  getSorting,\r\n  (products, sorting) =>\r\n    [...products].sort((current, next) => applySorting(current, next, sorting))\r\n);\r\n\r\nexport const getPaginatedProducts = createSelector(\r\n  getSortedProducts,\r\n  (_, { itemsPerPage }) => itemsPerPage,\r\n  (_, { pageNum }) => pageNum,\r\n  (products, itemsPerPage, pageNum = 1) => {\r\n    const safeItemsPerPage = itemsPerPage || products.length;\r\n    const numOfPages = Math.ceil(products.length / safeItemsPerPage);\r\n    const safePageNum =\r\n      pageNum > numOfPages ? numOfPages : pageNum < 1 ? 1 : pageNum;\r\n    const start = (safePageNum - 1) * safeItemsPerPage;\r\n    const productsOfPage = products.slice(start, start + safeItemsPerPage);\r\n    return { products: productsOfPage, numOfPages };\r\n  }\r\n);\r\n","import { useHistory } from \"react-router-dom\";\r\n\r\nfunction useQuery() {\r\n  const history = useHistory();\r\n  const getParams = () => new URLSearchParams(history.location.search);\r\n\r\n  return {\r\n    get(key) {\r\n      return getParams().get(key);\r\n    },\r\n    set(newParams) {\r\n      const params = getParams();\r\n      for (const [key, value] of Object.entries(newParams))\r\n        params.set(key, value);\r\n      return { search: `?${params}` };\r\n    },\r\n    push(newParams) {\r\n      history.push(this.set(newParams));\r\n    },\r\n  };\r\n}\r\n\r\nexport default useQuery;\r\n","import { useSelector } from \"react-redux\";\r\nimport useQuery from \"./useQuery\";\r\n\r\nconst DEFAULT_PAGE = 1;\r\nconst DEFAULT_ITEMS = 5;\r\n\r\nfunction usePagination(selector) {\r\n  const query = useQuery();\r\n\r\n  const itemsPerPage = Number(query.get(\"items\") ?? DEFAULT_ITEMS);\r\n\r\n  const { numOfPages } = useSelector((state) =>\r\n    selector(state, { itemsPerPage })\r\n  );\r\n\r\n  const queryPage = Number(query.get(\"page\")) || DEFAULT_PAGE;\r\n  const page = queryPage > numOfPages ? numOfPages : queryPage;\r\n\r\n  const { products } = useSelector((state) =>\r\n    selector(state, { itemsPerPage, pageNum: page })\r\n  );\r\n\r\n  const setItemsPerPage = (items) => query.push({ items, page: DEFAULT_PAGE });\r\n  const switchPage = (page) => query.set({ page });\r\n\r\n  return {\r\n    itemsPerPage,\r\n    setItemsPerPage,\r\n    numOfPages,\r\n    page,\r\n    switchPage,\r\n    products,\r\n  };\r\n}\r\n\r\nexport default usePagination;\r\n","import React from \"react\";\r\nimport ProductFilters from \"../../components/ProductFilters\";\r\nimport ProductsSorting from \"../../components/ProductsSorting\";\r\nimport ProductList from \"../../components/ProductList\";\r\nimport ItemsPerPageSelector from \"../../components/Pagination/ItemsPerPageSelector\";\r\nimport PageSwitcher from \"../../components/Pagination/PageSwitcher\";\r\nimport { getPaginatedProducts } from \"../../redux/selectors/sorting\";\r\nimport usePagination from \"../../hooks/usePagination\";\r\nimport \"./style.scss\";\r\n\r\nfunction ProductsPage() {\r\n  const {\r\n    itemsPerPage,\r\n    setItemsPerPage,\r\n    numOfPages,\r\n    page,\r\n    switchPage,\r\n    products,\r\n  } = usePagination(getPaginatedProducts);\r\n\r\n  return (\r\n    <div className='ProductsPage'>\r\n      <ProductFilters />\r\n      <div className='product-list-header'>\r\n        <ProductsSorting />\r\n        <ItemsPerPageSelector\r\n          itemsPerPage={itemsPerPage}\r\n          setItemsPerPage={setItemsPerPage}\r\n          listOfOptions={[3, 5, 10, 20, 0]}\r\n        />\r\n      </div>\r\n      <ProductList products={products} />\r\n      <PageSwitcher\r\n        numOfPages={numOfPages}\r\n        currentPage={page}\r\n        switchPage={switchPage}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductsPage;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { add } from \"../../../redux/actions\";\r\nimport Button from \"../../Button\";\r\nimport \"./style.scss\";\r\n\r\nfunction ProductCard({ id, title, imageUrl, price }) {\r\n  const dispatch = useDispatch();\r\n  const handleAdd = () => dispatch(add(id));\r\n\r\n  return (\r\n    <li className='ProductCard'>\r\n      <Link to={`products/${id}`} className='product-card__img-box'>\r\n        <img src={`./${imageUrl}`} alt={title} />\r\n      </Link>\r\n      <Link to={`products/${id}`} className='product-title'>\r\n        {title}\r\n      </Link>\r\n      <div className='product-price'>{price}</div>\r\n      <div className='product-card__add-button'>\r\n        <Button\r\n          text='Add to cart '\r\n          icon='zmdi zmdi-shopping-cart-plus'\r\n          title='Add to cart'\r\n          onClick={handleAdd}\r\n        />\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ProductCard;\r\n","import React from \"react\";\r\nimport ProductCard from \"./ProductCard\";\r\nimport \"./style.scss\";\r\n\r\nfunction ProductList({ products }) {\r\n  const productList = products?.length\r\n    ? products.map(({ id, ...product }) => (\r\n        <ProductCard key={id} id={id} {...product} />\r\n      ))\r\n    : null;\r\n\r\n  return <ul className='product-list'>{productList}</ul>;\r\n}\r\n\r\nexport default ProductList;\r\n"],"sourceRoot":""}